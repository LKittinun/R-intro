# **R function**

Function (ฟังก์ชัน) คือ ชุดของคำสั่งที่จะสั่งการให้ R ทำงานตามจุดประสงค์ที่ท่านตั้งไว้ โดยตัวฟังก์ชันนั้น จะประกอบไปด้วย

-   ฟังก์ชันที่มีมาพร้อมกับ R ตั้งแต่ต้น (Base R function)
-   ฟังก์ชันที่ผู้นิพนธ์ท่านอื่นเขียนไว้ และรวบรวมมาเป็น ชุดของ ฟังก์ชัน เรียกว่า Package
-   ฟังก์ชันที่ท่านเขียนขึ้นมาเอง

## Anatomy of function

ฟังก์ชันนั้นประกอบด้วย 4 ส่วน คือ

1.  Function name (ชื่อฟังก์ชัน)
2.  Argument (รายละเอียดของฟังก์ชัน)
3.  Function body (รายละเอียดของฟังก์ชัน)
4.  Return (ผลลัพธ์ของฟังก์ชัน)

ยกตัวอย่างฟังก์ชัน หาค่าเฉลี่ยของข้อมูล

```{r custom_function}
find_mean <- function(x, y){
  (x + y)/2
}

find_mean(2, 3)
find_mean(3, 5)
```

จะเห็นว่า ฟังก์ชันนี้รับข้อมูล 2 ตัวแปร คือ `x` และ `y` ซึ่งท่านจะต้องแทนค่าที่ท่านต้องการลงไปใน ฟังก์ชัน หลังจากนั้น ฟังก์ชันจะทำการประมวลผลและส่งผลลัพธ์กลับมา

ในผู้เริ่มต้น ส่วนใหญ่ท่านมักจะไม่ใช้ ฟังก์ชันที่เขียนขึ้นมาเองมากนัก เนื่องจาก Basic operation ส่วนใหญ่จะมีผู้นิพนธ์ขึ้นมาให้แล้ว

## Base R function

Base R function คือ ฟังก์ชันที่ติดกับ `R` มาตั้งแต่แรก ซึ่งท่านสามารถเรียกใช้ได้เลยโดยไม่ต้องทำการเรียก Package ขึ้นมาก่อน

```{r baseR_function}
max(c(1,2,4,5,5,68)) # find max value
min(c(1,4,5,6,-20)) # find min value
mean(c(1,2,3,4)) # find mean
median(c(1,2,5,3,4)) # find median
unique(c(1,1,1,1,2,2,4,5,5,6,7,8)) # display only unique values
```

ในส่วนของการ Manipulate dataframe นั้น คำสั่งต่างๆ ที่น่ารู้มีดังนี้

```{r df_man}
df <- data.frame(x = c(3,3,6,7,8,9),y = c(2,5,8,1,2,3),z = c(4,7,9,4,7,8))
df

head(df, 5) # ดู 5 แถวแรก
tail(df , 5) # ดู 5 แถวล่าง
rowMeans(df) # หาค่า mean แต่ละแถว
colMeans(df) # หาค่า mean แต่ละ columns
rownames(df) # ชื่อแถว
colnames(df) # ชื่อ column
table(iris$Species) # สร้างตารางนับจำนวน
```

สามารถดู base R ฟังก์ชันทั้งหมดได้ที่ <https://stat.ethz.ch/R-manual/R-devel/library/base/html/00Index.html>

ถ้าท่านต้องการดูว่า ฟังก์ชัน นั้นใช้งานอย่างไร ให้ใส่เครื่องหมาย ? หน้า ฟังก์ชัน นั้น เช่น `?mean()` `?colSums()`
